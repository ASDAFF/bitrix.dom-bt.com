{"version":3,"file":"dialog.min.js","sources":["dialog.js"],"names":["BXBlockEditorPreview","params","this","init","prototype","url","site","previewContext","BX","findChildByClassName","context","devicesContext","iframePreview","shadowNode","findChild","className","_this","deviceList","findChildrenByClassName","i","device","bind","changeDevice","loadHandler","loadCSS","Math","random","contentDocument","contentWindow","removeClass","ready","deviceNode","width","getAttribute","height","classNameList","deviceNodeTmp","push","addClass","frameWrapper","join","style","show","display","ajax","method","data","sessid","bitrix_sessid","src","content","onsuccess","randomString","setAttribute","onfailure","hide","BXBlockEditorDragDrop","CONST_ATTR_BLOCK_TYPE","CONST_ATTR_BLOCK_STATUS","addItem","node","dragdrop","addCatcher","addDragItem","removeItem","removeCatcher","DragDrop","create","dragItemClassName","dropZoneList","dragStart","delegate","eventObj","dragElement","event","lastDragObject","dragEnterCounter","dropZoneNodeList","dragDrop","catcherObj","onCustomEvent","pos","before","offsetY","blockStatus","blockType","dragOver","blockInside","dragEnter","target","preventDefault","dragLeave","dragEnd","BXBlockEditorDialogFileInput","isMultiImage","caller","id","fileInput","UI","FileInput","getInstance","toLowerCase","fileList","addCustomEvent","onLink","onSave","onLoadSetting","getImages","itemList","agent","getItems","reset","item","ids","getNext","map","filtered","filter","file","length","setImages","pathList","deleteFiles","fileDialogFiles","frameFilesOldValue","uploadParams","path","pathAr","split","filename","pop","filedir","handlerFileDialog","onAgentChange","ctrlImage","value","multi","ctrl","code","pathListTmp","pathListClean","semaphoreOnQueueIsChanged","onFileIsCreated","util","in_array","files","default","indexOf","isNeedToDoRequest","fileContainer","inputList","querySelectorAll","postData","paramName","paramValue","isSaved","saved","dataType","async","onImagesSaved","answer","tabCode","tabList","items","list","forEach","savedFileData","tmp","replace","error","alert","errorText","BXBlockEditorEditDialogColumn","attributeColumnNum","attributeColumnValue","attributeColumnCount","onLinkControl","getColumnList","container","findChildren","attribute","bindOnSwitch","columnNum","columnNumValue","getCtrlContainer","columnList","getCurrentEditingBlock","getEditValue","setCtrlValue","onSettingDependenceChange","eventParams","eventParamsDependence","parseInt","counter","displayMode","column","switchDefaultColumn","columnNumList","fireEvent","j","BXBlockEditorSocial","inputControl","cleanNode","itemContainer","valueList","JSON","parse","href","name","fireChange","stringify","getValue","result","getItemList","getItemControl","getItem","control","findParent","remove","changePreset","elementSelect","options","selectedIndex","text","html","templateItem","innerHTML","div","attrs","data-bx-block-editor-social-item","deleteButton","changeButton","nameInput","hrefInput","appendChild","addButton","BXBlockEditorEditDialog","changeList","ctrlList","itemFilter","itemPrevValues","htmlEditorParsedPhp","doNotProcessChanging","getPlaceCaption","caption","message","toUpperCase","attributePlaceName","attributeTab","attributeLink","attributeCtrl","callerContext","querySelector","contextTools","contextVisual","contextPanel","contextPlaceList","buttonSave","buttonClose","save","cancel","helper","BXBlockEditorHelper","social","initHtmlEditor","initColorPicker","initBorderControl","initTabs","initPlaceList","initTools","onEditorLoadAfter","callback","editor","placeContainer","placeBind","place","placeCode","placeList","findStylistPlaces","placeName","li","title","apply","tab","onTabClick","linkList","link","linkCode","linkCodeList","group","linkControl","htmlEditor","BXHtmlEditor","Get","minWidth","MIN_WIDTH","ResizeSceleton","AutoResizeSceleton","ctrlEditor","rawHtml","phpParser","replacePhpByLayout","replaceLayoutByPhp","SetContent","picker","window","BXColorPicker","Create","Close","clickHandler","element","parentNode","pCont","oPar","OnSelect","proxy","color","colorBox","nextSibling","background","Open","changeHandler","inputCtrl","ctrlStyle","ctrlWidth","ctrlColor","changeVisualHandler","val","arr","colorRgbToHex","oldValue","getCtrlValue","onControlChangeValue","key","fireDependenceChange","bindChange","func","nodeName","e","showTab","itemDependence","dependenceCode","dependenceCtrl","dependenceContainer","load","dependence","tabExists","itemCode","callbackFunction","wait","showWait","hasChanges","closeWait","offsetWidth","right","type","isFunction","setTimeout","hideTab","tv","availableCodeList","codeCurr","emptyTab","BXBlockEditorSliceContent","sectionId","textarea","getSectionHtml","tag","concat","getSlices","pattern","sliceRegExp","RegExp","matches","exec","section","trim","isArray","getHtml","sliceList","each","sectionSliceList","slice","BXBlockEditorCssParser","patternRule","patternDeclaration","patternStyleSheet","patternComments","patternMedia","parseRules","styles","selector","stylesRegExp","merge","parseDeclaration","declaration","mergeStyles","arr1","arr2","diffStylesAll","diff","media","diffStyles","object_keys","declarations","isString","rule","parseTag","str","parseRegExp","commentsRegExp","mediaRegExp","css","getCssString","parsed","setStyle","parseResult","changeResult","getStyle","BXBlockEditorStatusManager","onPlaceInitBlocksContent","setBlockStatusContent","onBlockEditEnd","getPlaceNameList","nodeList","changedPlaceList","status","CONST_ATTR_PLACE","block","placeNode","hasBlocksFromContent","blockNodeList","CONST_ATTR_BLOCK","blockNode","hasAttribute","controlsMap","excludeControlList","separator","hidden","compact"],"mappings":"AAAA,QAASA,sBAAqBC,GAE7BC,KAAKC,KAAKF,GAEXD,qBAAqBI,UAAUD,KAAO,SAASF,GAE9CC,KAAKG,IAAMJ,EAAOI,GAClBH,MAAKI,KAAOL,EAAOK,IACnBJ,MAAKK,eAAiBC,GAAGC,qBAAqBR,EAAOS,QAAS,oCAAqC,KACnGR,MAAKS,eAAiBH,GAAGC,qBAAqBP,KAAKK,eAAgB,UAAW,KAE9EL,MAAKU,cAAgBJ,GAAGC,qBAAqBP,KAAKK,eAAgB,iBAAkB,KACpFL,MAAKW,WAAaL,GAAGM,UAAUZ,KAAKK,gBAAiBQ,UAAW,UAAW,KAE3E,IAAIC,GAAQd,IAEZA,MAAKe,WAAaT,GAAGU,wBAAwBhB,KAAKS,eAAgB,SAClE,KAAI,GAAIQ,KAAKjB,MAAKe,WAClB,CACC,GAAIG,GAASlB,KAAKe,WAAWE,EAC7BX,IAAGa,KAAKD,EAAQ,QAAS,WACxBJ,EAAMM,aAAapB,QAGrBA,KAAKoB,cAEL,IAAIC,GAAc,WACjBf,GAAGgB,QACF,iDAAmDC,KAAKC,SACxDxB,KAAKyB,gBACLzB,KAAK0B,cAENpB,IAAGqB,YAAYb,EAAMH,WAAY,UAGlCL,IAAGsB,MAAM,WAERtB,GAAGa,KAAKL,EAAMJ,cAAe,OAAQW,KAGvCvB,sBAAqBI,UAAUkB,aAAe,SAASS,GAGtD,IAAIA,EACJ,CACCA,EAAa7B,KAAKe,WAAW,GAG9B,GAAIe,GAAQD,EAAWE,aAAa,+BACpC,IAAIC,GAASH,EAAWE,aAAa,gCACrC,IAAIlB,GAAYgB,EAAWE,aAAa,+BAExC,IAAIE,KACJ,KAAI,GAAIhB,KAAKjB,MAAKe,WAClB,CACC,GAAImB,GAAgBlC,KAAKe,WAAWE,EACpC,KAAIiB,EACJ,CACC,MAED,GAAGA,IAAkBL,EACrB,CACCvB,GAAGqB,YAAYO,EAAe,UAE/BD,EAAcE,KAAKD,EAAcH,aAAa,iCAE/CzB,GAAG8B,SAASP,EAAY,SAExB,IAAIQ,GAAe/B,GAAGC,qBAAqBP,KAAKK,eAAgB,iBAAkB,KAClF,IAAGgC,EACH,CACC/B,GAAGqB,YAAYU,EAAcJ,EAAcK,KAAK,KAChDhC,IAAG8B,SAASC,EAAcxB,GAG3Bb,KAAKU,cAAc6B,MAAMT,MAAQA,EAAQ,IACzC9B,MAAKU,cAAc6B,MAAMP,OAASA,EAAS,KAI5ClC,sBAAqBI,UAAUsC,KAAO,SAASzC,GAE9CA,EAASA,KACTO,IAAG8B,SAASpC,KAAKW,WAAY,SAC7BL,IAAGqB,YAAY3B,KAAKW,WAAY,gBAChC,IAAIG,GAAQd,IACZA,MAAKK,eAAekC,MAAME,QAAU,OACpCnC,IAAGoC,MACFvC,IAAO,oDACPwC,OAAU,OACVC,MAASC,OAAUvC,GAAGwC,gBAAiBC,IAAOhD,EAAOiD,SACrDC,UAAa,WAEZ,GAAIC,GAAe3B,KAAKC,QACxB,IAAIrB,GAAMW,EAAMX,IAAM,YAAcW,EAAMV,KAAM,MAAQ8C,CACxDpC,GAAMJ,cAAcyC,aAAa,MAAOhD,IAEzCiD,UAAa,SAASR,GAErB,GAAGA,GAAQ,OACX,CACCtC,GAAG8B,SAAStB,EAAMH,WAAY,qBAKlCb,sBAAqBI,UAAUmD,KAAO,WAErCrD,KAAKK,eAAekC,MAAME,QAAU,OAGrC,SAASa,uBAAsBvD,GAE9BC,KAAKuD,sBAAwB,iCAC7BvD,MAAKwD,wBAA0B,mCAE/BxD,MAAKC,KAAKF,GAEXuD,sBAAsBpD,WAErBuD,QAAS,SAASC,GAEjB1D,KAAK2D,SAASC,WAAWF,EACzB1D,MAAK2D,SAASE,aAAaH,KAG5BI,WAAY,SAASJ,GAEpB1D,KAAK2D,SAASI,cAAcL,IAG7BzD,KAAM,SAASF,GAEdC,KAAK2D,SAAWrD,GAAG0D,SAASC,QAC3BC,kBAAmB,oCACnBC,gBACAC,UAAW9D,GAAG+D,SAAS,SAASC,EAAUC,EAAaC,GAEtDxE,KAAKyE,eAAiB,IACtBzE,MAAK0E,iBAAmB,CAExB,KAAI,GAAIzD,KAAKjB,MAAK2D,SAASgB,iBAC3B,CACCrE,GAAG8B,SAASpC,KAAK2D,SAASgB,iBAAiB1D,GAAI,iBAG9CjB,MACH4E,SAAUtE,GAAG+D,SAAS,SAASQ,EAAYN,EAAaC,GAEvDlE,GAAGwE,cAAc9E,KAAM,eAAgB6E,GAEvC,IAAIE,GAAMzE,GAAGyE,IAAIF,EACjB,IAAIG,GAASR,EAAMS,QAAUF,EAAI/C,OAAS,CAE1C,IAAIkD,GAAcX,EAAYxC,aAAa/B,KAAKwD,wBAEhD,IAAG0B,GAAe,QAClB,CACC,GAAIC,GAAYZ,EAAYxC,aAAa/B,KAAKuD,sBAC9CjD,IAAGwE,cAAc9E,KAAM,aAAcmF,EAAWN,EAAYG,QAG7D,CACC1E,GAAGwE,cAAc9E,KAAM,cAAeuE,EAAaM,EAAYG,MAG9DhF,MACHoF,SAAU9E,GAAG+D,SAAS,SAASQ,EAAYN,EAAaC,GAEvD,GAAIa,GAAc/E,GAAGC,qBAAqBsE,EAAY,kBAAmB,KACzEQ,GAAcA,GAAeR,CAC7B,IAAIE,GAAMzE,GAAGyE,IAAIM,EACjB,IAAGb,EAAMS,QAAUF,EAAI/C,OAAS,EAChC,CACC1B,GAAGwE,cAAc9E,KAAM,eAAgB6E,EAAY,WAGpD,CACCvE,GAAGwE,cAAc9E,KAAM,eAAgB6E,EAAY,UAGlD7E,MACHsF,UAAWhF,GAAG+D,SAAS,SAASQ,EAAYN,EAAaC,GAExD,GAAGK,GAAcL,EAAMe,OACvB,CACCjF,GAAGwE,cAAc9E,KAAM,eAAgB6E,EAAY,MACnDL,GAAMgB,mBAGLxF,MACHyF,UAAWnF,GAAG+D,SAAS,SAASQ,EAAYN,EAAaC,GAExD,GAAGK,GAAcL,EAAMe,OACvB,CACCjF,GAAGwE,cAAc9E,KAAM,eAAgB6E,GACvC7E,MAAK0E,iBAAmB,IAGvB1E,MACH0F,QAASpF,GAAG+D,SAAS,SAASQ,EAAYN,EAAaC,GAEtDlE,GAAGwE,cAAc9E,KAAM,eAAgB6E,GAEvC,KAAI,GAAI5D,KAAKjB,MAAK2D,SAASgB,iBAC3B,CACCrE,GAAGqB,YAAY3B,KAAK2D,SAASgB,iBAAiB1D,GAAI,iBAGjDjB,SAKN,SAAS2F,8BAA6B5F,GAErCC,KAAK4F,aAAe,IACpB5F,MAAK6F,OAAS9F,EAAO8F,MACrB7F,MAAKQ,QAAUR,KAAK6F,OAAOrF,OAC3BR,MAAK8F,GAAK/F,EAAO+F,EAEjB9F,MAAK+F,UAAYzF,GAAG0F,GAAGC,UAAUC,YAAY,WAAalG,KAAK8F,GAAGK,cAClEnG,MAAKoG,WAEL9F,IAAG+F,eAAerG,KAAK6F,OAAQ,oBAAqBvF,GAAG+D,SAASrE,KAAKsG,OAAQtG,MAC7EM,IAAG+F,eAAerG,KAAK6F,OAAQ,SAAUvF,GAAG+D,SAASrE,KAAKuG,OAAQvG,MAClEM,IAAG+F,eAAerG,KAAK6F,OAAQ,kBAAmBvF,GAAG+D,SAASrE,KAAKwG,cAAexG,OAEnF2F,6BAA6BzF,WAE5BuG,UAAW,WAEV,GAAIC,GAAW1G,KAAK+F,UAAUY,MAAMC,UACpCF,GAASG,OAET,IAAIC,GAAMC,IACV,QAAQD,EAAOJ,EAASM,YAAcF,EACtC,CACCC,EAAI5E,KAAK2E,EAAKhB,IAGf,MAAOiB,GAAIE,IAAI,SAAUnB,GACxB,GAAIoB,GAAWlH,KAAKoG,SAASe,OAAO,SAAUC,GAC7C,MAAQA,GAAKtB,IAAMA,GAAMsB,EAAKjH,KAE/B,IAAI+G,EAASG,OAAS,EACtB,CACC,MAAOH,GAASA,EAASG,OAAS,GAAGlH,QAGtC,CACC,MAAO,QAENH,OAGJsH,UAAW,SAASC,GAEnBvH,KAAK+F,UAAUyB,aACfxH,MAAKyH,kBAIL,IAAIC,GAAqB1H,KAAK+F,UAAU4B,aAAa,aACrD3H,MAAK+F,UAAU4B,aAAa,cAAgB,GAE5C,KAAI,GAAI1G,KAAKsG,GACb,CACC,GAAIK,GAAOL,EAAStG,EACpB,IAAI4G,GAASD,EAAKE,MAAM,IACxB,IAAIC,GAAWF,EAAOG,KACtB,IAAIC,GAAUJ,EAAOvF,KAAK,IAE1BtC,MAAK+F,UAAUmC,kBAAkBH,EAAUE,GAI5CjI,KAAK+F,UAAU4B,aAAa,cAAgBD,GAG7CS,cAAe,SAASC,GAEvBA,EAAUC,MAAQrI,KAAKyG,YAAYnE,KAAK,IACxChC,IAAGwE,cAAcsD,EAAW,yBAG7B5B,cAAe,SAAShC,GAGvBxE,KAAK4F,eAAiBpB,EAAMzE,OAAOuI,OAGpChC,OAAQ,SAAS1D,GAEhB,GAAI2F,GAAO3F,EAAK2F,IAChB,IAAIC,GAAO5F,EAAK4F,IAEhB,IAAIJ,GAAYG,CAChBjI,IAAG+F,eAAe+B,EAAW,qBAAsB9H,GAAG+D,SAAS,WAE9D,GAAIkD,KACJ,IAAIkB,GAAcL,EAAUC,MAAMP,MAAM,IACxC,KAAI,GAAI7G,KAAKwH,GACb,CACC,GAAIC,GAAgBD,EAAYxH,GAAG6G,MAAM,IACzCP,GAASpF,KAAKuG,EAAc,IAI7B1I,KAAKsH,UAAUC,IACbvH,MAGHM,IAAG+F,eAAerG,KAAK+F,UAAUY,MAAO,gBAAiBrG,GAAG+D,SAAS,WAEpE,IAAIrE,KAAK4F,aACT,CACC5F,KAAK2I,0BAA4B,IACjC3I,MAAK+F,UAAUyB,gBAEdxH,MAGHM,IAAG+F,eAAerG,KAAK+F,UAAUY,MAAO,mBAAoBrG,GAAG+D,SAAS,WAEvE,IAAIrE,KAAK2I,0BACT,CACC3I,KAAKmI,cAAcC,GAEpBpI,KAAK2I,0BAA4B,OAC/B3I,MAGHA,MAAK4I,gBAAkB,SAAS9C,EAAIgB,GAEnC9G,KAAK2I,0BAA4B,IACjC,IAAG7B,EAAKM,KAAK,WACb,CACCpH,KAAKoG,SAASjE,MACb2D,GAAMA,EACN3F,IAAO2G,EAAKM,KAAK,WACjBQ,KAAQd,EAAKM,KAAK,aAIpB,GAAG9G,GAAGuI,KAAKC,SAAShC,EAAK,SAAU,mBAAoB,mBACvD,CACCxG,GAAG+F,eAAerG,KAAK+F,UAAUY,MAAO,iBAAkBrG,GAAG+D,SAAS,WAErErE,KAAKmI,cAAcC,IACjBpI,OAGJM,GAAG+F,eAAeS,EAAM,eAAgBxG,GAAG+D,SAAS,SAASyC,EAAMlE,GAElE,GAAIzC,GAAMyC,EAAKwE,KAAK2B,MAAMC,QAAQ7I,GAClCA,KAAQA,EAAI8I,QAAQ,KAAO,EAAI,IAAM,KAAO,KAAO1H,KAAKC,QAExDxB,MAAKoG,SAASjE,MACb2D,GAAMlD,EAAKwE,KAAKtB,GAChB3F,IAAOA,EACPyH,KAAQhF,EAAKwE,KAAK2B,MAAMC,QAAQpB,MAEjC5H,MAAKmI,cAAcC,IACjBpI,OAEJM,IAAG+F,eAAerG,KAAK+F,UAAUY,MAAO,kBAAmBrG,GAAG+D,SAASrE,KAAK4I,gBAAiB5I,MAE7F4C,GAAKzB,KAAO,OAGboF,OAAQ,WAEP,GAAI2C,GAAoB,KAExB,IAAIC,GAAgB7I,GAAGC,qBAAqBP,KAAKQ,QAAS,+BAAgC,KAC1F,IAAI4I,GAAYD,EAAcE,iBAAiB,iCAC/C,IAAIC,KACJ,KAAI,GAAIrI,KAAKmI,GACb,CACC,GAAGA,EAAUnI,IAAMmI,EAAUnI,GAAGc,aAChC,CACC,GAAIwH,GAAYH,EAAUnI,GAAGc,aAAa,OAC1C,IAAIyH,GAAaJ,EAAUnI,GAAGoH,KAC9BiB,GAASF,EAAUnI,GAAGc,aAAa,SAAWyH,CAE9C,IAAGD,EAAUN,QAAQ,aAAe,EACpC,CAEC,GAAIQ,GAAUzJ,KAAKoG,SAASe,OAAO,SAAUC,GAC5C,MAAQoC,IAAcpC,EAAKQ,MAAQR,EAAKsC,QACtCrC,OAAS,CAEZ,KAAKoC,EACL,CACCP,EAAoB,QAMxB,IAAIA,EACJ,CACC,OAGD5I,GAAGoC,MACFvC,IAAO,0DACPwC,OAAU,OACVC,KAAQ0G,EACRK,SAAY,OACZC,MAAS,MACT3G,UAAa3C,GAAG+D,SAASrE,KAAK6J,cAAe7J,SAI/C6J,cAAe,SAASC,GAEvB,IAAI,GAAIC,KAAW/J,MAAK6F,OAAOmE,QAC/B,CACC,GAAIlD,GAAO9G,KAAK6F,OAAOmE,QAAQD,GAASE,MAAM,MAC9C,KAAInD,EACJ,CACC,SAGD,IAAIA,EAAKyB,KAAKF,MACd,CACC,SAGDyB,EAAOlH,KAAKsH,KAAKC,QAAQ,SAAUC,GAClC,GAAIlD,GAAWlH,KAAKoG,SAASe,OAAO,SAAUC,GAC7C,IAAKA,EAAKQ,MAAQR,EAAKjH,IACvB,CACC,MAAOiH,GAAKjH,IAAI8I,QAAQmB,EAAcC,MAAQ,EAG/C,MAAOD,GAAcC,KAAOjD,EAAKQ,MAGlCV,GAASiD,QAAQ,SAAU/C,GAC1BN,EAAKyB,KAAKF,MAAQvB,EAAKyB,KAAKF,MAAMiC,QAAQlD,EAAKjH,IAAKiK,EAAcxC,KAClER,GAAKsC,MAAQ,QAEZ1J,KAEHM,IAAGwE,cAAcgC,EAAKyB,KAAM,wBAG7B,GAAIuB,EAAOS,MACX,CACCC,MAAMV,EAAOW,aAKhB,SAASC,+BAA8B3K,GAEtCC,KAAK2K,mBAAqB,8BAC1B3K,MAAK4K,qBAAuB,6BAC5B5K,MAAK6K,qBAAuB,6BAE5B7K,MAAK6F,OAAS9F,EAAO8F,MAGrBvF,IAAG+F,eAAerG,KAAK6F,OAAQ,gBAAiBvF,GAAG+D,SAASrE,KAAK8K,cAAe9K,MAChFM,IAAG+F,eAAerG,KAAK6F,OAAQ,cAAevF,GAAG+D,SAASrE,KAAKwG,cAAexG,OAE/E0K,8BAA8BxK,WAE7B6K,cAAe,SAASC,GAEvB,MAAO1K,IAAG2K,aAAaD,GAAYE,UAAWlL,KAAK2K,oBAAqB,OAGzEQ,aAAc,SAAS5C,EAAM6C,GAE5B9K,GAAGa,KAAKiK,EAAW,QAAS9K,GAAG+D,SAAS,WACvC,GAAIgH,GAAiBD,EAAUrJ,aAAa/B,KAAK2K,mBACjDpC,GAAKpF,aAAanD,KAAK4K,qBAAsBS,EAE7C,IAAIL,GAAYhL,KAAK6F,OAAOyF,iBAAiB/C,EAC7C,IAAIgD,GAAavL,KAAK+K,cAAcC,EAAUA,UAC9C,KAAI,GAAI/J,KAAKsK,GACb,CACCjL,GAAGqB,YAAY4J,EAAWtK,GAAI,UAE/BX,GAAG8B,SAASgJ,EAAW,SAGvB,IAAI/C,GAAQrI,KAAK6F,OAAOA,OAAO2F,yBAAyBC,aAAaT,EAAUxC,KAAM6C,EACrFrL,MAAK6F,OAAO6F,aAAanD,EAAMF,IAE7BrI,QAGJ2L,0BAA2B,SAASC,EAAaC,GAEhD,GAAIb,GAAYa,EAAsBb,UAAUA,SAChD,IAAI3C,GAAQuD,EAAYvD,MAAQuD,EAAYvD,MAAQ,CACpDA,GAAQyD,SAASzD,EACjB,IAAGA,EAAQ,EACX,CACCA,EAAQ,EAGT,GAAIkD,GAAavL,KAAK+K,cAAcC,EACpC,IAAIe,GAAU,CACd,KAAI,GAAI9K,KAAKsK,GACb,CACCQ,GACA,IAAIC,GAAeD,GAAW1D,EAAS,GAAK,MAC5C,IAAI4D,GAASV,EAAWtK,EACxBgL,GAAO1J,MAAME,QAAUuJ,EAGxBhM,KAAKkM,oBAAoBlB,IAG1BkB,oBAAqB,SAASlB,GAE7B,GAAImB,GAAgBnM,KAAK+K,cAAcC,EACvC,IAAGmB,EAAc9E,OAAS,EAC1B,CACC/G,GAAG8L,UAAUD,EAAc,GAAI,WAIjC3F,cAAe,SAASoF,GAEvB5L,KAAKkM,oBAAoBN,EAAYZ,UAAUA,YAGhDF,cAAe,SAASc,GAGvB,GAAIO,GAAgBnM,KAAK+K,cAAca,EAAYZ,UACnD,KAAI,GAAIqB,KAAKF,GACb,CACCnM,KAAKmL,aAAaS,EAAYrD,KAAM4D,EAAcE,IAGnD,GAAGF,EAAc9E,OAAS,EAC1B,CAEC/G,GAAG+F,eACFrG,KAAK6F,OACL,6BAA+B+F,EAAYpD,KAC3ClI,GAAG+D,SAASrE,KAAK2L,0BAA2B3L,SAMhD,SAASsM,qBAAoBvM,GAE5BC,KAAK6F,OAAS9F,EAAO8F,MAErBvF,IAAG+F,eAAerG,KAAK6F,OAAQ,+BAAgCvF,GAAG+D,SAASrE,KAAK8K,cAAe9K,MAC/FM,IAAG+F,eAAerG,KAAK6F,OAAQ,6BAA8BvF,GAAG+D,SAASrE,KAAKwG,cAAexG,OAE9FsM,oBAAoBpM,WAEnBsG,cAAe,SAASoF,GAEvB5L,KAAKuM,aAAeX,EAAYrD,IAChCjI,IAAGkM,UAAUxM,KAAKyM,cAElB,IAAIC,GAAYC,KAAKC,MAAMhB,EAAYvD,MACvC,KAAI,GAAIpH,KAAKyL,GACb,CACC,GAAI5F,GAAO4F,EAAUzL,EACrBjB,MAAKyD,QAAQqD,EAAK+F,KAAM/F,EAAKgG,QAI/BC,WAAY,WAEX/M,KAAKuM,aAAalE,MAAQsE,KAAKK,UAAUhN,KAAKiN,WAC9C3M,IAAGwE,cAAc9E,KAAKuM,aAAc,yBAGrCU,SAAU,WAET,GAAIC,KACJ,IAAIxG,GAAW1G,KAAKmN,aACpB,KAAI,GAAIlM,KAAKyF,GACb,CACC,GAAII,GAAOJ,EAASzF,EACpB,IAAI4L,GAAO7M,KAAKoN,eAAetG,EAAM,OACrC,IAAIgG,GAAO9M,KAAKoN,eAAetG,EAAM,OACrCoG,GAAO/K,MAAM2K,KAAQA,EAAKzE,MAAOwE,KAAQA,EAAKxE,QAG/C,MAAO6E,IAGRC,YAAa,WAEZ,MAAO7M,IAAG2K,aAAajL,KAAKyM,eAAgBvB,UAAU,oCAAqC,OAG5FmC,QAAS,SAASC,GAEjB,MAAOhN,IAAGiN,WAAWD,GAAUpC,UAAU,sCAG1CkC,eAAgB,SAAStG,EAAMjG,GAE9B,MAAOP,IAAGC,qBAAqBuG,EAAMjG,EAAW,OAGjDiD,WAAY,SAASwJ,GAEpBhN,GAAGkN,OAAOxN,KAAKqN,QAAQC,KAGxBG,aAAc,SAASC,GAEtB,GAAI5G,GAAO9G,KAAKqN,QAAQK,EAExB,IAAIb,GAAO7M,KAAKoN,eAAetG,EAAM,OACrC,IAAIgG,GAAO9M,KAAKoN,eAAetG,EAAM,OAErC+F,GAAKxE,MAAQqF,EAAcrF,KAC3ByE,GAAKzE,MAAQqF,EAAcC,QAAQD,EAAcE,eAAeC,MAGjEpK,QAAS,SAASoJ,EAAMC,GAEvB,GAAIgB,GAAO9N,KAAK+N,aAAaC,SAC7BF,GAAOA,EAAKxD,QAAQ,SAAUuC,EAC9BiB,GAAOA,EAAKxD,QAAQ,SAAUwC,EAE9B,IAAImB,GAAM3N,GAAG2D,OAAO,OACnBiK,OAAUC,mCAAoC,QAC9CL,KAAQA,GAGT,IAAIM,GAAepO,KAAKoN,eAAea,EAAK,SAC5C,IAAGjO,KAAKiN,WAAW5F,QAAU,EAC7B,CACC+G,EAAa7L,MAAME,QAAU,OAG9B,GAAI4L,GAAerO,KAAKoN,eAAea,EAAK,SAC5C,IAAIK,GAAYtO,KAAKoN,eAAea,EAAK,OACzC,IAAIM,GAAYvO,KAAKoN,eAAea,EAAK,OAEzC,IAAInN,GAAQd,IACZM,IAAGa,KAAKmN,EAAW,WAAY,WAC9BxN,EAAMiM,cAEPzM,IAAGa,KAAKoN,EAAW,WAAY,WAC9BzN,EAAMiM,cAGPzM,IAAGa,KAAKiN,EAAc,QAAS,WAC9BtN,EAAMgD,WAAW9D,KACjBc,GAAMiM,cAEPzM,IAAGa,KAAKkN,EAAc,SAAU,WAC/BvN,EAAM2M,aAAazN,KACnBc,GAAMiM,cAIP/M,MAAKyM,cAAc+B,YAAYP,EAC/BjO,MAAK+M,cAGNjC,cAAe,SAASc,GAEvB5L,KAAKgL,UAAYY,EAAYZ,SAC7BhL,MAAK+N,aAAezN,GAAG,uBAEvBN,MAAKyM,cAAgBnM,GAAGC,qBAAqBP,KAAKgL,UAAW,YAAa,KAC1E,IAAIyD,GAAYnO,GAAGC,qBAAqBP,KAAKgL,UAAW,MAAO,KAE/D,IAAIlK,GAAQd,IACZM,IAAGa,KAAKsN,EAAW,QAAS,WAC3B3N,EAAM2C,QAAQ,GAAI,OAKrB,SAASiL,yBAAwB3O,GAEhCC,KAAK2O,aACL3O,MAAKgK,UACLhK,MAAK4O,WACL5O,MAAK6O,aACL7O,MAAK8O,iBACL9O,MAAK+O,sBAEL/O,MAAKgP,qBAAuB,KAC5BhP,MAAKC,KAAKF,GAEX2O,wBAAwBxO,WAEvB+O,gBAAiB,SAASzG,GAEzB,GAAI0G,GAAU5O,GAAG6O,QAAQ,8BAAgC3G,EAAK4G,cAC9D,KAAIF,EACJ,CACCA,EAAU1G,EAGX,MAAO0G,IAGRjP,KAAM,SAASF,GAEdC,KAAKqP,mBAAqB,oBAC1BrP,MAAKsP,aAAe,mCACpBtP,MAAKuP,cAAgB,qBACrBvP,MAAKwP,cAAgB,2BAErBxP,MAAK6F,OAAS9F,EAAO8F,MACrB7F,MAAKyP,cAAgB1P,EAAOS,OAC5BR,MAAKQ,QAAUR,KAAKyP,cAAcC,cAAc,cAEhD1P,MAAK2P,aAAe3P,KAAKQ,QAAQkP,cAAc,mBAE/C1P,MAAK4P,cAAgB5P,KAAKQ,QAAQkP,cAAc,eAChD1P,MAAK6P,aAAe7P,KAAKQ,QAAQkP,cAAc,eAC/C1P,MAAK8P,iBAAmB9P,KAAK6P,aAAaH,cAAc,yBAExD1P,MAAK+P,WAAazP,GAAGM,UAAUZ,KAAK2P,cAAe9O,UAAW,+BAAgC,KAC9Fb,MAAKgQ,YAAc1P,GAAGM,UAAUZ,KAAK2P,cAAe9O,UAAW,gCAAiC,KAChGP,IAAGa,KAAKnB,KAAK+P,WAAY,QAASzP,GAAG+D,SAASrE,KAAKiQ,KAAMjQ,MACzDM,IAAGa,KAAKnB,KAAKgQ,YAAa,QAAS1P,GAAG+D,SAASrE,KAAKkQ,OAAQlQ,MAE5DA,MAAKmQ,OAAU,GAAIC,oBACnBpQ,MAAK+F,UAAY,GAAIJ,+BAA8BE,OAAU7F,KAAM8F,GAAM,uBAAyB9F,KAAK6F,OAAOC,IAC9G9F,MAAKiM,OAAS,GAAIvB,gCAA+B7E,OAAU7F,MAC3DA,MAAKqQ,OAAS,GAAI/D,sBAAqBzG,OAAU7F,MACjDA,MAAKsQ,gBACLtQ,MAAKuQ,iBACLvQ,MAAKwQ,mBAELxQ,MAAKyQ,UACLzQ,MAAK0Q,eACL1Q,MAAK2Q,aAGND,cAAe,WAEdpQ,GAAG+F,eAAerG,KAAK6F,OAAQ,cAAevF,GAAG+D,SAASrE,KAAK4Q,kBAAmB5Q,QAGnF4Q,kBAAmB,SAASzQ,EAAK0Q,EAAUC,GAE1C,GAAIC,GAAiBzQ,GAAGM,UAAUZ,KAAK8P,kBAAmB5E,UAAWlL,KAAKqP,oBAAqB,KAC/F,KAAI0B,EACJ,CACC,OAGDzQ,GAAGkM,UAAUuE,EAEb,IAAIC,GAAY,WACf,MAAO,UAASC,EAAOC,GAEtB,GAAIpQ,GAAQd,IACZM,IAAGa,KAAK8P,EAAO,QAAS,WAEvB3Q,GAAGwE,cAAchE,EAAO,eAAgBoQ,KAEzC5Q,IAAGa,KAAK8P,EAAO,aAAc,WAE5B3Q,GAAGwE,cAAchE,EAAO,gBAAiBoQ,EAAW,QAErD5Q,IAAGa,KAAK8P,EAAO,aAAc,WAE5B3Q,GAAGwE,cAAchE,EAAO,gBAAiBoQ,EAAW,aAKvD,IAAIC,GAAYL,EAAOM,mBACvB,KAAI,GAAIF,KAAaC,GACrB,CACC,GAAIE,GAAYrR,KAAKiP,gBAAgBiC,EACrC,IAAII,GAAKhR,GAAG2D,OAAO,MAAO4J,KAAQwD,EAAWnD,OAAUqD,MAASF,IAChEN,GAAevC,YAAY8C,EAC3BN,GAAUQ,MAAMxR,MAAOsR,EAAIJ,MAI7BT,SAAU,WAET,GAAIzG,GAAU1J,GAAG2K,aAAa3K,GAAGC,qBAAqBP,KAAK2P,aAAc,oBAAqBzE,UAAWlL,KAAKsP,cAAe,KAC7H,KAAI,GAAIrO,KAAK+I,GACb,CACC,GAAIyH,GAAMzH,EAAQ/I,EAClB,IAAI8I,GAAU0H,EAAI1P,aAAa/B,KAAKsP,aAEpCtP,MAAKgK,QAAQD,IAAYrG,KAAQ+N,EAAKxH,SACtC3J,IAAGa,KAAKsQ,EAAK,QAASnR,GAAG+D,SAASrE,KAAK0R,WAAY1R,SAKrD2Q,UAAW,WAEV,GAAIgB,GAAWrR,GAAG2K,aAAajL,KAAKQ,SAAU0K,UAAWlL,KAAKuP,eAAgB,KAC9E,KAAI,GAAItO,KAAK0Q,GACb,CACC,GAAIC,GAAOD,EAAS1Q,EACpB,IAAI4Q,GAAWD,EAAK7P,aAAa/B,KAAKuP,cACtC,IAAIuC,GAAeD,EAAS/J,MAAM,IAClC,IAAIS,GAAOjI,GAAGM,UAAUgR,GAAO1G,UAAWlL,KAAKwP,eAAgB,KAE/D,KAAIjH,EACJ,CACC,SAIDvI,KAAKgK,QAAQ8H,EAAa,IAAI,SAASA,EAAa,KAAOpO,KAAQkO,EAAMrJ,KAAQA,EAGjF,IAAIqD,IACHpD,KAAQsJ,EAAa,GACrBC,MAASD,EAAa,GACtBvJ,KAAQA,EACRyC,UAAa4G,EACbzQ,KAAQ,KAETb,IAAGwE,cAAc9E,KAAM,iBAAkB4L,GACzCtL,IAAGwE,cAAc9E,KAAM,iBAAmB4L,EAAYpD,MAAOoD,GAC7D5L,MAAK4O,SAAShD,EAAYpD,MAAQoD,EAAYrD,IAC9CvI,MAAKgS,YAAYpG,EAAYrD,KAAMqD,EAAYpD,KAAMoD,EAAYzK,QAInEmP,eAAgB,WAEftQ,KAAKiS,WAAaC,aAAaC,IAAI,2BAA6BnS,KAAK6F,OAAOC,GAE5E,IAAIsM,GAAW,GACfpS,MAAKiS,WAAWI,UAAYD,CAK5BpS,MAAKiS,WAAWK,gBAChBtS,MAAKiS,WAAWM,oBAEhBjS,IAAG+F,eAAerG,KAAM,wBAAyBM,GAAG+D,SAAS,SAASzB,GACrE,GAAI2F,GAAO3F,EAAK2F,IAChB,IAAIC,GAAO5F,EAAK4F,IAEhB,IAAIgK,GAAajK,CAEjBjI,IAAG+F,eAAerG,KAAKiS,WAAY,mBAAoB3R,GAAG+D,SAAS,SAASoO,GAC3ED,EAAWnK,MAAQrI,KAAK0S,UAAUC,mBAAmBF,EACrDnS,IAAGwE,cAAc0N,EAAY,yBAC3BxS,MAEHM,IAAG+F,eAAemM,EAAY,qBAAsBlS,GAAG+D,SAAS,WAC/D,GAAIwJ,GAAO7N,KAAK0S,UAAUE,mBAAmBJ,EAAWnK,MACxDrI,MAAKiS,WAAWY,WAAWhF,EAAM,OAC/B7N,MAEH4C,GAAKzB,KAAO,OACVnB,QAGJuQ,gBAAiB,SAAS7M,GAEzB1D,KAAK8S,OAAS,GAAIC,QAAOC,eAAelN,GAAM,SAAUgH,KAAQ,UAChE9M,MAAK8S,OAAOG,QAEZ,IAAInS,GAAQd,IAEZM,IAAG+F,eAAerG,KAAM,SAAU,WACjCc,EAAMgS,OAAOI,SAEd,IAAIC,GAAe,WAElB,GAAIC,GAAUpT,IACdoT,GAAQC,WAAW7E,YAAY1N,EAAMgS,OAAOQ,MAC5CxS,GAAMgS,OAAOS,KAAKC,SAAWlT,GAAGmT,MAAM,SAAUC,GAE/C,IAAIA,EACHA,EAAQ,EAETN,GAAQ/K,MAAQqL,CAChB,IAAIC,GAAWrT,GAAGsT,YAAYR,EAC9B,IAAGO,EACH,CACCA,EAASpR,MAAMsR,WAAaH,EAE7BpT,GAAG8L,UAAUgH,EAAS,WACpBtS,EAEHA,GAAMgS,OAAOQ,MAAM/Q,MAAME,QAAU,EACnC3B,GAAMgS,OAAOI,OACbpS,GAAMgS,OAAOgB,KAAKV,EAClBtS,GAAMgS,OAAOQ,MAAM/Q,MAAME,QAAU,OAIpC,IAAIsR,GAAgB,WAEnB,GAAIJ,GAAWrT,GAAGsT,YAAY5T,KAC9B,IAAI2T,EACJ,CACCA,EAASpR,MAAMsR,WAAa7T,KAAKqI,OAKnC,IAAIe,GAAY9I,GAAG2K,aAAajL,KAAKQ,SAAUK,UAAa,0BAA2B,KACvF,KAAI,GAAII,KAAKmI,GACb,CACC,GAAI4K,GAAY5K,EAAUnI,EAC1B,IAAI0S,GAAWrT,GAAGsT,YAAYI,EAE9B1T,IAAGa,KAAKwS,EAAU,QAASrT,GAAGmT,MAAMN,EAAca,GAClD1T,IAAGa,KAAK6S,EAAW,QAASb,EAC5B7S,IAAGa,KAAK6S,EAAW,QAASb,EAE5B7S,IAAG+F,eAAe2N,EAAW,qBAAsB1T,GAAG+D,SAAS0P,EAAeC,GAC9E1T,IAAGa,KAAK6S,EAAW,WAAY1T,GAAG+D,SAAS0P,EAAeC,MAI5DxD,kBAAmB,WAElB,GAAIjI,GAAOjI,GAAG,4BACd,IAAI2T,GAAY3T,GAAG,kCACnB,IAAI4T,GAAY5T,GAAG,kCACnB,IAAI6T,GAAY7T,GAAG,kCAEnB,IAAI8T,GAAsB,WACzB,GAAIC,GAAM,EACV,IAAGJ,EAAU5L,MACb,CACC,IAAI6L,EAAU7L,MACd,CACC6L,EAAU7L,MAAQ,MAEnB,IAAI8L,EAAU9L,MACd,CACC8L,EAAU9L,MAAQ,UAGnBgM,EAAMH,EAAU7L,MAAQ,IAAM4L,EAAU5L,MAAS,IAAM8L,EAAU9L,MAElEE,EAAKF,MAAQgM,CACb/T,IAAG8L,UAAU7D,EAAM,UAGpBjI,IAAG+F,eAAekC,EAAM,qBAAsBjI,GAAG+D,SAAS,WAEzD,GAAGkE,EAAKF,MACR,CACC,GAAIiM,GAAM/L,EAAKF,MAAMP,MAAM,IAC3B,KAAI,GAAI7G,GAAI,EAAGA,EAAIqT,EAAIjN,OAAQpG,IAC/B,CACCqT,EAAI,GAAKA,EAAI,GAAK,IAAMA,EAAIrT,GAE7BiT,EAAU7L,MAAQiM,EAAI,EACtBL,GAAU5L,MAAQiM,EAAI,EACtBH,GAAU9L,MAAQrI,KAAKmQ,OAAOoE,cAAcD,EAAI,GAChDhU,IAAG8L,UAAU+H,EAAW,YAEvBnU,MACHM,IAAGa,KAAK8S,EAAW,WAAYG,EAC/B9T,IAAGa,KAAK+S,EAAW,WAAYE,EAC/B9T,IAAGa,KAAKgT,EAAW,WAAYC,IAGhC9I,iBAAkB,SAAS5H,GAE1B,GAAI2P,GAAa/S,GAAGiN,WAAW7J,GAAOwH,UAAalL,KAAKuP,eACxD,IAAIsC,GAAWwB,EAAWtR,aAAa/B,KAAKuP,cAC5C,IAAIuC,GAAeD,EAAS/J,MAAM,IAElC,QAAQkD,UAAaqI,EAAY5B,IAAOK,EAAa,GAAItJ,KAAQsJ,EAAa,KAG/EpG,aAAc,SAASnD,EAAMF,GAE5BE,EAAKF,MAAQA,CACb,UAAUE,GAAa,WAAM,YAC7B,CACCA,EAAKiM,SAAWjM,EAAKF,MAGtB/H,GAAGwE,cAAcyD,EAAM,uBAGxBkM,aAAc,SAASlM,GAEtB,MAAOA,GAAKF,OAGbqM,qBAAsB,SAAShR,GAE9B,IAAI1D,KAAK6F,OAAO2F,yBAChB,CACC,OAGD,GAAIR,GAAYhL,KAAKsL,iBAAiB5H,EACtC,IAAIiR,GAAM3J,EAAUxC,IACpB,IAAIH,GAAQ3E,EAAK2E,KACjB,IAAI+C,GAAY1H,EAAK3B,aAAa/B,KAAKiM,OAAOrB,qBAE9CtK,IAAGwE,cAAc9E,KAAM,sBAAuB2U,EAAKtM,EAAO+C,GAE1D,KAAI9K,GAAGuI,KAAKC,SAASpF,EAAM1D,KAAK2O,YAChC,CACC3O,KAAK2O,WAAWxM,KAAKuB,GAGtB1D,KAAK4U,qBAAqBD,IAG3B3C,YAAa,SAASzJ,EAAMC,EAAMqM,GAEjC,GAAI/T,GAAQd,IACZM,IAAG+F,eAAekC,EAAM,uBAAwB,WAC/C,IAAIzH,EAAMkO,qBACV,CACClO,EAAM4T,qBAAqB1U,QAI7B,IAAG6U,EACH,CACC,GAAIC,GAAO,WACVxU,GAAGwE,cAAc9E,KAAM,wBAExBM,IAAGa,KAAKoH,EAAM,SAAUuM,EACxB,IAAGvM,EAAKwM,UAAY,SAAWxM,EAAKwM,UAAY,WAChD,CACCzU,GAAGa,KAAKoH,EAAM,QAASuM,MAK1BpD,WAAY,SAASsD,GAEpBA,EAAIA,GAAKjC,OAAOvO,KAChB,IAAIiN,GAAMuD,EAAEzP,MACZ,IAAIwE,GAAU0H,EAAI1P,aAAa/B,KAAKsP,aAEpCtP,MAAKiV,QAAQlL,IAGd6K,qBAAsB,SAASpM,GAE9B,IAAIxI,KAAKkV,iBAAmBlV,KAAKkV,eAAe1M,IAASxI,KAAKkV,eAAe1M,GAAMnB,QAAU,EAC7F,CACC,OAGD,GAAIkB,GAAOvI,KAAK4O,SAASpG,EACzB,KAAID,EAAM,MAEV,IAAIyC,GAAYhL,KAAKsL,iBAAiB/C,EACtC,IAAIqD,IACHpD,KAAMA,EACNH,MAAOrI,KAAKyU,aAAalM,GACzBA,KAAMA,EACNyC,UAAWA,EAGZ,KAAI,GAAIqB,KAAKrM,MAAKkV,eAAe1M,GACjC,CACC,GAAI2M,GAAiBnV,KAAKkV,eAAe1M,GAAM6D,EAC/C,IAAI+I,GAAiBpV,KAAK4O,SAASuG,EACnC,KAAIC,EAAgB,QAEpB,IAAIC,GAAsBrV,KAAKsL,iBAAiB8J,EAChD,IAAIvJ,IACHrD,KAAM2M,EACN9M,MAAOrI,KAAKyU,aAAaW,GACzB7M,KAAM6M,EACNpK,UAAWqK,EAGZ/U,IAAGwE,cAAc9E,KAAM,6BAA+BmV,GAAiBvJ,EAAaC,MAItFyJ,KAAM,SAAS5O,GAEd1G,KAAKgP,qBAAuB,IAE5BhP,MAAK6O,aACL7O,MAAKkV,iBACLlV,MAAK8O,iBAEL,KAAI,GAAI7N,KAAKyF,GACb,CACC,GAAI8B,GAAO9B,EAASzF,GAAGuH,IACvB,IAAIH,GAAQ3B,EAASzF,GAAGoH,KACxB,IAAItI,GAAS2G,EAASzF,GAAGlB,MACzB,IAAIwV,GAAa7O,EAASzF,GAAGsU,UAC7B,IAAIhN,GAAOvI,KAAK4O,SAASpG,EAEzB,KAAID,EACH,QAED,IAAIyC,GAAYhL,KAAKsL,iBAAiB/C,EAGtCvI,MAAK6O,WAAW1M,KAAKqG,EACrBxI,MAAKkV,eAAe1M,GAAQ+M,CAE5B,IAAI3J,IACHpD,KAAMA,EACNH,MAAOA,EACPtI,OAAQA,EACRwI,KAAMA,EACNyC,UAAWA,EACXuK,WAAYA,EAGbjV,IAAGwE,cAAc9E,KAAM,eAAgB4L,GACvCtL,IAAGwE,cAAc9E,KAAM,eAAiBwI,GAAOoD,GAG/CrD,GAAKF,MAAQA,CACbE,GAAKiM,SAAWjM,EAAKF,KACrB/H,IAAGwE,cAAcyD,EAAM,qBAEvBvI,MAAK4U,qBAAqBpM,GAG3BlI,GAAGwE,cAAc9E,KAAM,gBAAiB0G,GAExC1G,MAAKgP,qBAAuB,KAE5B,KAAI,GAAIjF,KAAW/J,MAAKgK,QACxB,CACC,GAAIwL,GAAY,KAChB,KAAI,GAAIC,KAAYzV,MAAKgK,QAAQD,GAASE,MAC1C,CACC,GAAG3J,GAAGuI,KAAKC,SAAS2M,EAAUzV,KAAK6O,YACnC,CACC2G,EAAY,IACZ,QAIF,GAAGA,EACH,CACCxV,KAAKgK,QAAQD,GAASrG,KAAKnB,MAAME,QAAU,OAG5C,CACCzC,KAAKgK,QAAQD,GAASrG,KAAKnB,MAAME,QAAU,QAI7CzC,KAAKiV,WAGNhF,KAAM,SAASyF,GAEd,GAAIC,GAAOrV,GAAGsV,SAAS5V,KAAK+P,WAC5B,IAAI8F,GAAa7V,KAAK2O,WAAWtH,OAAS,CAC1C/G,IAAGwE,cAAc9E,KAAM,UAAW6V,GAElCvV,IAAGwV,UAAU9V,KAAK+P,WAClB/P,MAAKqD,KAAKqS,IAGXxF,OAAQ,SAASwF,GAEhB,IAAI,GAAIzU,KAAKjB,MAAK2O,WAClB,CACC,GAAIjL,GAAO1D,KAAK2O,WAAW1N,EAC3ByC,GAAK2E,MAAQ3E,EAAK8Q,QAClBxU,MAAK0U,qBAAqBhR,GAG3B,GAAImS,GAAa,KACjBvV,IAAGwE,cAAc9E,KAAM,YAAa6V,GACpC7V,MAAKqD,KAAKqS,IAGXlT,KAAM,WAELlC,GAAGwE,cAAc9E,KAAM,SAEvB,IAAI2P,GAAe3P,KAAK2P,YACxB,IAAIC,GAAgB5P,KAAK4P,aACzB,IAAIpP,GAAUR,KAAKQ,OAEnBmP,GAAapN,MAAME,QAAU,OAC7B,IAAGkN,EAAaoG,YAAcnG,EAAcmG,YAAcvV,EAAQuV,YAClE,CACCnG,EAAcrN,MAAMT,MAAStB,EAAQuV,YAAcpG,EAAaoG,YAAe,KAEhFpG,EAAapN,MAAMyT,MAAQ,KAG5B3S,KAAM,SAASqS,GAEdpV,GAAGwE,cAAc9E,KAAM,SAEvB,IAAI2P,GAAe3P,KAAK2P,YACxB,IAAIC,GAAgB5P,KAAK4P,aAEzB,IAAG5P,KAAK2P,aAAapN,MAAME,SAAW,OACtC,CACC,GAAIiT,GAAoBpV,GAAG2V,KAAKC,WAAWR,GAC3C,CACCA,EAAiBlE,aAInB,CACC,GAAIkE,GAAoBpV,GAAG2V,KAAKC,WAAWR,GAC3C,CACC/F,EAAapN,MAAMyT,MAAQ,MAC3BG,YAAWT,EAAkB,SAG9B,CACC/F,EAAapN,MAAMyT,MAAQ,OAC3BrG,GAAapN,MAAME,QAAU,MAC7BmN,GAAcrN,MAAMT,MAAQ,UAK/BsU,QAAS,WAER,IAAI,GAAIrM,KAAW/J,MAAKgK,QACxB,CACC,IAAI,GAAIyL,KAAYzV,MAAKgK,QAAQD,GAAS,SAC1C,CACC/J,KAAKgK,QAAQD,GAAS,SAAS0L,GAAU/R,KAAKnB,MAAME,QAAU,UAKjEwS,QAAS,SAASzM,GAEjBxI,KAAKoW,SAGL,KAAI,GAAIC,KAAMrW,MAAKgK,QACnB,CACC1J,GAAGqB,YAAY3B,KAAKgK,QAAQqM,GAAI,QAAS,UAI1C,IAAI7N,EACJ,CACC,GAAI8N,KACJ,KAAI,GAAIC,KAAYvW,MAAKgK,QACzB,CACC,GAAGhK,KAAKgK,QAAQuM,GAAU7S,KAAKnB,MAAME,SAAW,OAChD,CACC6T,EAAkBnU,KAAKoU,IAIzB,IAAI,GAAItV,KAAKjB,MAAKgK,QAClB,CACC,GAAG1J,GAAGuI,KAAKC,SAAS7H,EAAGqV,GACvB,CACC9N,EAAOvH,CACP,SAKH,GAAIuV,GAAWlW,GAAGC,qBAAqBP,KAAKQ,QAAS,wBAAyB,KAC9E,KAAIgI,EACJ,CACClI,GAAG8B,SAASoU,EAAU,SACtB,YAGD,CACClW,GAAGqB,YAAY6U,EAAU,UAI1BlW,GAAG8B,SAASpC,KAAKgK,QAAQxB,GAAM,QAAS,SAGxC,KAAI,GAAIiN,KAAYzV,MAAKgK,QAAQxB,GAAM,SACvC,CACC,GAAGxI,KAAK6O,WAAWxH,OAAS,IAAM/G,GAAGuI,KAAKC,SAAS2M,EAAUzV,KAAK6O,YAClE,CACC,SAGD7O,KAAKgK,QAAQxB,GAAM,SAASiN,GAAU/R,KAAKnB,MAAME,QAAU,UAK9D,SAASgU,2BAA0B1W,GAElCC,KAAK0W,UAAY,kCACjB1W,MAAK2W,SAAW5W,EAAO4W,QACvB3W,MAAK6F,OAAS9F,EAAO8F,OAEtB4Q,0BAA0BvW,UAAU0W,eAAiB,SAAShP,EAAM5E,GAEnE,GAAI6T,IAAO7W,KAAK0W,WAAWI,OAAOlP,GAAMtF,KAAK,KAAO,GACpD,OAAO,oDAAoDgI,QAAQ,QAASuM,GAAKvM,QAAQ,QAASuM,GAAKvM,QAAQ,YAAatH,GAE7HyT,2BAA0BvW,UAAU6W,UAAY,WAE/C,GAAI7J,KACJ,IAAIlK,GAAUhD,KAAK2W,SAAStO,KAC5B,IAAI2O,GAAU,aACXhX,KAAK0W,UAAY,2BACjB,mBACA,WAAa1W,KAAK0W,UAAY,aAEjC,IAAIO,GAAc,GAAIC,QAAOF,EAAS,IACtC,IAAIG,EACJ,OAAMA,EAAUF,EAAYG,KAAKpU,GACjC,CACC,GAAIqU,GAAUF,EAAQ,GAAGG,MACzB,IAAIxQ,GAAOqQ,EAAQ,GAAGG,MACtB,IAAIjP,GAAQ8O,EAAQ,GAAGG,MACvB,KAAIhX,GAAG2V,KAAKsB,QAAQrK,EAAOmK,IAC3B,CACCnK,EAAOmK,MAGRnK,EAAOmK,GAASlV,MACfkV,QAAWA,EACXvQ,KAAQA,EACRuB,MAASA,IAIX,MAAO6E,GAERuJ,2BAA0BvW,UAAUsX,QAAU,SAASC,GAEtD,GAAIzU,GAAU,EACdhD,MAAK6F,OAAOsK,OAAOuH,KAAKD,EAAW,SAASE,GAE3C3X,KAAK6F,OAAOsK,OAAOuH,KAAKC,EAAkB,SAASC,GAElD5U,EAAUA,EAAUhD,KAAK4W,gBACvBgB,EAAMP,QAASO,EAAM9Q,MACtB8Q,EAAMvP,QAELrI,OACDA,KAEH,OAAOgD,GAGR,SAAS6U,0BAER7X,KAAK8X,YAAc,4BACnB9X,MAAK+X,mBAAqB,4BAC1B/X,MAAKgY,kBAAoB,uCACzBhY,MAAKiY,gBAAkB,0BACvBjY,MAAKkY,aAAe,gDAErBL,uBAAuB3X,UAAUiY,WAAa,SAASC,GAEtD,GAAIlL,KACJ,IAAIiK,GAASkB,EAAUhQ,CAEvB,IAAIiQ,GAAe,GAAIpB,QAAOlX,KAAK8X,YAAa,IAChD,OAAMX,EAAUmB,EAAalB,KAAKgB,GAClC,CACCC,EAAWlB,EAAQ,GAAGG,MACtBjP,GAAQ8O,EAAQ,GAAGG,MAEnB,KAAIpK,EAAOmL,GACX,CACCnL,EAAOmL,MAERnL,EAAOmL,GAAY/X,GAAGiY,MAAMrL,EAAOmL,GAAWrY,KAAKwY,iBAAiBnQ,IAGrE,MAAO6E,GAGR2K,wBAAuB3X,UAAUsY,iBAAmB,SAASC,GAE5D,GAAIvL,KAEJ,IAAIoL,GAAe,GAAIpB,QAAOlX,KAAK+X,mBAAoB,IACvD,IAAIZ,GAASrK,EAAMzE,CACnB,OAAM8O,EAAUmB,EAAalB,KAAKqB,GAClC,CACC3L,EAAOqK,EAAQ,GAAGG,MAClBjP,GAAQ8O,EAAQ,GAAGG,MACnBpK,GAAOJ,GAAQzE,EAGhB,MAAO6E,GAER2K,wBAAuB3X,UAAUwY,YAAc,SAASC,EAAMC,GAE7D,IAAI,GAAIP,KAAYO,GACpB,CACC,IAAIA,EAAKP,GACT,CACC,SAGD,IAAIM,EAAKN,GACT,CACCM,EAAKN,MAGNM,EAAKN,GAAY/X,GAAGiY,MAAMI,EAAKN,GAAWO,EAAKP,IAGhD,MAAOM,GAERd,wBAAuB3X,UAAU2Y,cAAgB,SAASF,EAAMC,GAE/D,GAAItE,KACJ,IAAIwE,EAEJ,KAAI,GAAIC,KAASH,GACjB,CACC,IAAIA,EAAKG,GACT,CACC,SAGD,IAAIJ,EAAKI,GACT,CACCzE,EAAIyE,GAASH,EAAKG,OAGnB,CACCD,EAAO9Y,KAAKgZ,WAAWL,EAAKI,GAAQH,EAAKG,GACzC,IAAGzY,GAAGuI,KAAKoQ,YAAYH,GAAMzR,OAAS,EACtC,CACCiN,EAAIyE,GAASD,IAKhB,GAAGxY,GAAGuI,KAAKoQ,YAAY3E,GAAKjN,OAAS,EACrC,CACC,MAAOiN,OAGR,CACC,MAAO,OAGTuD,wBAAuB3X,UAAU8Y,WAAa,SAASL,EAAMC,GAE5D,GAAItE,KAEJ,KAAI,GAAI+D,KAAYO,GACpB,CACC,IAAIA,EAAKP,GACT,CACC,SAGD,GAAIa,GAAeN,EAAKP,EAExB,KAAIM,EAAKN,IAAa/X,GAAGuI,KAAKoQ,YAAYC,GAAc7R,OAAS,EACjE,CACCiN,EAAI+D,GAAYa,MAEZ,KAAI5Y,GAAG2V,KAAKkD,SAASD,GAC1B,CACC,IAAI,GAAIE,KAAQF,GAChB,CACC,IAAIA,EAAaE,GACjB,CACC,SAGD,IAAIT,EAAKN,GAAUe,IAAST,EAAKN,GAAUe,IAASF,EAAaE,GACjE,CACC,IAAI9E,EAAI+D,GACR,CACC/D,EAAI+D,MAGL/D,EAAI+D,GAAUe,GAAQF,EAAaE,MAOvC,MAAO9E,GAERuD,wBAAuB3X,UAAUmZ,SAAW,SAASC,GAEpD,GAAIpM,GAAS,EAEb,IAAIqM,GAAc,GAAIrC,QAAOlX,KAAKgY,kBAAmB,KACrD,IAAIwB,GAAiB,GAAItC,QAAOlX,KAAKiY,gBAAiB,IAEtD,MAAKd,QAAUoC,EAAYnC,KAAKkC,IAChC,CACCnC,SAAWmC,EAAKA,GAEjB,EACA,CACCpM,GAAUiK,QAAQ,GAAGG,OAAS,WACxBH,QAAUoC,EAAYnC,KAAKkC,GAElCpM,GAASA,EAAO5C,QAAQkP,EAAgB,GAExC,OAAOtM,GAER2K,wBAAuB3X,UAAU0M,MAAQ,SAAS0M,GAEjDA,EAAMA,GAAO,EACb,IAAIpM,IAAU,MACd,IAAIiK,EAEJ,IAAIsC,GAAc,GAAIvC,QAAOlX,KAAKkY,aAAc,KAEhD,IAAIwB,GAAM1Z,KAAKqZ,SAASC,EACxBI,GAAMA,EAAIpC,MACV,OAAMH,EAAUsC,EAAYrC,KAAKsC,GACjC,CACC,GAAIX,GAAQ5B,EAAQ,GAAGG,MACvB,IAAIc,GAASjB,EAAQ,GAAGG,OAAS,GACjC,KAAIpK,EAAO6L,GACX,CACC7L,EAAO6L,MAGR7L,EAAO6L,GAAS/Y,KAAK0Y,YAAYxL,EAAO6L,GAAQ/Y,KAAKmY,WAAWC,GAChEsB,GAAMA,EAAIpP,QAAQ6M,EAAQ,GAAI,IAG/BjK,EAAO,IAAMlN,KAAK0Y,YAAYxL,EAAO,IAAKlN,KAAKmY,WAAWuB,GAE1D,OAAOxM,GAER2K,wBAAuB3X,UAAUyZ,aAAe,SAASC,GAExD,GAAI1M,GAAS,GAAI6L,EAAOV,EAAUI,EAAapQ,CAE/C,KAAI0Q,IAASa,GACb,CACC,IAAIA,EAAOb,GAAQ,KAEnB,IAAGA,EACH,CACC7L,GAAU6L,EAAQ,MAGnB,IAAIV,IAAYuB,GAAOb,GACvB,CACC,IAAIV,IAAauB,EAAOb,GAAOV,GAAW,KAE1CnL,IAAUmL,EAAW,KACrB,KAAII,IAAemB,GAAOb,GAAOV,GACjC,CACC,IAAII,IAAgBmB,EAAOb,GAAOV,GAAUI,GAAc,KAE1DpQ,GAAQuR,EAAOb,GAAOV,GAAUI,EAChCvL,IAAUuL,EAAc,KAAOpQ,EAAQ,MAGxC6E,GAAU,MAGX,GAAG6L,EACH,CACC7L,GAAU,OAIZ,MAAOA,GAER2K,wBAAuB3X,UAAU2Z,SAAW,SAASP,EAAKP,EAAOV,EAAUnO,GAE1E,GAAI4P,GAAaC,CAEjBhB,GAAQA,GAAS,EACjBV,GAAWA,EAASf,MACpBwC,GAAc9Z,KAAK4M,MAAM0M,EAEzB,KAAIQ,EAAYf,GAChB,CACCgB,SAGD,CACCA,EAAeD,EAAYf,GAG5B,IAAI,GAAIN,KAAevO,GACvB,CACC,GAAI7B,GAAQ6B,EAAKuO,EACjB,IAAGpQ,EACH,CACC,IAAI0R,EAAa1B,GACjB,CACC0B,EAAa1B,MAEd0B,EAAa1B,GAAUI,GAAepQ,MAElC,IAAG0R,EAAa1B,GACrB,OACQ0B,GAAa1B,GAAUI,IAIhCqB,EAAYf,GAASgB,CACrB,OAAO/Z,MAAK2Z,aAAaG,GAE1BjC,wBAAuB3X,UAAU8Z,SAAW,SAASV,EAAKP,EAAOV,EAAUnO,GAE1E,GAAIgD,MAAa4M,EAAaC,CAE9BhB,GAAQA,GAAS,EACjBV,GAAWA,EAASf,MACpBwC,GAAc9Z,KAAK4M,MAAM0M,EAEzB,KAAIQ,EAAYf,GAChB,CACCgB,SAGD,CACCA,EAAeD,EAAYf,GAG5B,IAAI,GAAI9X,KAAKiJ,GACb,CACC,GAAIuO,GAAcvO,EAAKjJ,EACvB,KAAI8Y,EAAa1B,KAAc0B,EAAa1B,GAAUI,GACtD,CACCvL,EAAOuL,GAAe,SAGvB,CACCvL,EAAOuL,GAAesB,EAAa1B,GAAUI,IAI/C,MAAOvL,GAGR,SAAS+M,4BAA2Bla,GAEnCC,KAAK6F,OAAS9F,EAAO8F,MAErBvF,IAAG+F,eAAerG,KAAK6F,OAAQ,2BAA4BvF,GAAG+D,SAASrE,KAAKka,yBAA0Bla,KAAK6F,QAE3GvF,IAAG+F,eAAerG,KAAK6F,OAAQ,qBAAsBvF,GAAG+D,SAASrE,KAAKma,sBAAuBna,KAAK6F,QAClGvF,IAAG+F,eAAerG,KAAK6F,OAAQ,mBAAoBvF,GAAG+D,SAASrE,KAAKma,sBAAuBna,KAAK6F,QAChGvF,IAAG+F,eAAerG,KAAK6F,OAAQ,eAAgBvF,GAAG+D,SAASrE,KAAKma,sBAAuBna,KAAK6F,QAC5FvF,IAAG+F,eAAerG,KAAK6F,OAAQ,iBAAkBvF,GAAG+D,SAASrE,KAAKoa,eAAgBpa,KAAK6F,SAExFoU,2BAA2B/Z,UAAUma,iBAAmB,SAASC,GAEhE,GAAIC,KACJva,MAAK6F,OAAOsK,OAAOuH,KAAK4C,EAAU,SAAS5W,GAE1C,IAAIA,EAAK3B,aACT,CACC,OAGD,GAAIyY,GAAS9W,EAAK3B,aAAa/B,KAAKwD,wBACpC,IAAI6N,GAAY3N,EAAK2P,WAAWtR,aAAa/B,KAAKya,iBAClD,IAAGD,GAAU,UAAYnJ,GAAa,OACtC,CACCkJ,EAAiBpY,KAAKkP,KAErBrR,KAAK6F,OAER,OAAO0U,GAERN,4BAA2B/Z,UAAUia,sBAAwB,SAASO,GAErEA,EAAMhX,KAAKP,aAAanD,KAAKwD,wBAAyB,WAEvDyW,4BAA2B/Z,UAAUka,eAAiB,SAASM,EAAO7E,GAErE,GAAGA,EACH,CACC6E,EAAMhX,KAAKP,aAAanD,KAAKwD,wBAAyB,YAGxDyW,4BAA2B/Z,UAAUga,yBAA2B,SAASS,EAAWC,GAGnF,GAAIJ,GAAS,QACb,IAAGI,EACH,CAECJ,EAAS,UAGV,GAAIK,GAAgBva,GAAG2K,aAAa0P,GAAYzP,UAAalL,KAAK8a,kBAAmB,KACrF,KAAI,GAAI7Z,KAAK4Z,GACb,CACC,GAAIE,GAAYF,EAAc5Z,EAC9B,KAAI8Z,EAAUC,aAAahb,KAAKwD,yBAChC,CACCuX,EAAU5X,aAAanD,KAAKwD,wBAAyBgX,KAMxDla,IAAG+F,eAAe,iBAAkB,SAAS4U,GAC5C,GAAGjb,KAAK8F,GAAGmD,QAAQ,8BAAgC,EACnD,CACC,OAGD,GAAIiS,IACH,aAAc,uBACd,gBAAiB,eAAgB,WACjC,eAAgB,OAAQ,YAAa,QACrC,aAAc,OAEf,KAAI,GAAIja,KAAKga,GACb,CACC,GAAI3N,GAAU2N,EAAYha,EAC1B,IAAGqM,EACH,CACC,GAAGA,EAAQ6N,UACX,CACC7N,EAAQ8N,OAAS,SAEb,KAAI9a,GAAGuI,KAAKC,SAASwE,EAAQxH,GAAIoV,GACtC,CACC5N,EAAQ+N,QAAU,UAGnB,CACC/N,EAAQ+N,QAAU"}