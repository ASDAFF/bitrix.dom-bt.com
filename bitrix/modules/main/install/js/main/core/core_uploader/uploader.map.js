{"version":3,"file":"uploader.min.js","sources":["uploader.js"],"names":["window","BX","statuses","new","ready","preparing","inprogress","done","failed","error","stopped","changed","uploaded","repo","settings","phpPostMinSize","phpUploadMaxFilesize","phpPostMaxSize","estimatedTimeForUploadFile","maxTimeForUploadFile","maxSize","Uploader","params","message","parseInt","ii","debug","phpMaxFileUploads","this","fileInput","controlID","controlId","dialogName","id","type","isNotEmptyString","Math","random","CID","UploaderUtils","getId","streams","UploaderStreams","limits","min","uploadMaxFilesize","uploadFileWidth","uploadFileHeight","allowUpload","allowUploadExt","keys","length","ext","split","indexOf","charAt","substr","join","init","initDropZone","hasOwnProperty","bindEvents","uploadFileUrl","form","getAttribute","status","fileFields","fileCopies","queueFields","queue","UploaderQueue","addCustomEvent","delegate","item","node","create","props","name","value","hash","appendChild","parentNode","insertBefore","file","data","preparePost","mode","ajax","get","onCustomEvent","uploads","Hash","upload","__beforeunload","terminate","e","confirmationMessage","event","returnValue","bind","prototype","log","mkFileInput","onChange","destruct","releaseDropZone","text","dropZone","DD","isDomNode","dropFiles","supported","FormData","isSupported","f","files","dt","entry","fileCopy","replace","isFile","push","dragEnter","isFileTransfer","i","addClass","DIV","dragLeave","removeClass","unbindAll","removeAttribute","removeCustomEvent","_cancelLeave","_prepareLeave","onAttach","nodes","check","clear","isArray","result","j","added","pop","toLowerCase","submit","PreventDefault","target","disabled","DoNothing","oldNode","cloneNode","adjust","attrs","multiple","accept","removeChild","prepareForm","post","post2","AJAX_POST","SITE_ID","USER_ID","filesCount","size","FormToArray","sizeof","bitrix_sessid","inputName","version","getVersion","start","stop","adjustProcess","streamId","pIndex","percent","itFailed","hasItem","progress","setItem","itForUpload","removeItem","itUploaded","percentPerChunk","packages","chunks","getThumbs","packageFormer","packagesFormer","getFirst","UploaderPackage","proxy","stream","pack","proc","restoreFiles","res","checkUploads","procent","getItem","getItems","items","restoreItems","apply","arguments","deleteFile","UploaderSimple","superclass","constructor","previews","setTimeout","onFileNeedsPreview","raw","getIds","dealWithFile","extend","del","srcElement","~name","copy","url","uploadStatus","nonProcessRun","onFileNeedsPreviewCallback","Blob","objName","getInstanceName","getInstance","eval","manager","packageIndex","startSize","_exec","exec","checkFile","getFormattedSize","packStream","filesSize","fd","appendToForm","prepareData","postName","thumb","package","append","action","packFiles","count","postSize","blob","tmp","callback","cf","getProps","fileConstructor","Object","toString","call","canvas","getFilePart","applyFilePart","shift","makeAnArray","__onAllStreamsAreKilled","reinit","doneStream","errorStream","progressStream","preparationStatus","startStreaming","send","sended","kill","adjustPostSize","increase","sugestedSize","deltaTime","xhr","finishTime","startTime","ceil","max","merge","ar1","ar2","jj","response","ij","copies","reset","getNext","err","unshiftItem","defaultTextError","isPlainObject","UploaderStream","_id","streamsManager","_onsuccess","onsuccess","_onfailure","onfailure","_onerror","onerror","_onprogress","onprogress","local","util","htmlspecialcharsback","test","parseJSON","method","dataType","processData","skipAuthCheck","timeout","addEventListener","d","Date","getTime","sessid","path","location","pathname","lengthComputable","loaded","restore","uploader","killedStreams","_restore","_kill","handler","defer_proxy"],"mappings":"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"}