{"version":3,"sources":["assets/js/jquery.smt-menu-main.js"],"names":["$","Plugin","option","this","each","$this","data","options","SmtMenuMain","element","extend","DEFAULTS","$element","container","$container","attr","parent","$cloneList","clone","removeClass","$cloneListChildren","children","addClass","append","moreLinkClass","moreLinkContent","$children","clearHtml","contents","filter","index","nodeType","test","nodeValue","remove","resize","window","on","proxy","debounce","prototype","containerWidth","width","outerWidth","measureWidth","counter","countHidden","i","length","elementWidth","css","old","fn","smtMenuMain","Constructor","noConflict","call","jQuery"],"mappings":"CAAC,SAAUA,GACP,aA6EA,SAASC,EAAOC,GACZ,OAAOC,KAAKC,KAAK,WACb,IAAIC,EAAUL,EAAEG,MACZG,EAAUD,EAAMC,KAAK,oBACrBC,EAA2B,iBAAVL,GAAsBA,EAEtCI,GAAMD,EAAMC,KAAK,mBAAqBA,EAAO,IAAIE,EAAYL,KAAMI,IACnD,iBAAVL,GAAoBI,EAAKJ,OAlF5C,IAAIM,EAAc,SAAUC,EAASF,GACjCJ,KAAKI,QAAUP,EAAEU,UAAWF,EAAYG,SAAUJ,GAClDJ,KAAKS,SAAWZ,EAAES,GAEdN,KAAKI,QAAQM,UACbV,KAAKW,WAAad,EAAEG,KAAKI,QAAQM,WAC1BV,KAAKS,SAASG,KAAK,kBAC1BZ,KAAKW,WAAad,EAAEG,KAAKS,SAASG,KAAK,mBAEvCZ,KAAKW,WAAaX,KAAKS,SAASI,SAGpCb,KAAKc,WAAajB,EAAES,GAASS,QAAQC,cACrChB,KAAKiB,mBAAqBjB,KAAKc,WAAWI,WAE1ClB,KAAKc,WAAWI,WAAWC,SAAS,UACpCtB,EAAEG,KAAKS,UAAUW,OAAO,0BAA4BpB,KAAKI,QAAQiB,cAAgB,KAAOrB,KAAKI,QAAQkB,gBAAkB,QACvHzB,EAAE,kBAAmBG,KAAKS,UAAUW,OAAOpB,KAAKc,YAAYK,SAAS,UAErEnB,KAAKuB,UAAY1B,EAAES,GAASY,WAEzBlB,KAAKI,QAAQoB,WACZxB,KAAKS,SAASgB,WAAWC,OAAO,SAASC,EAAOrB,GAC5C,OAA2B,GAApBA,EAAQsB,WAAkD,IAAjC,KAAKC,KAAKvB,EAAQwB,aACnDC,SAGP/B,KAAKgC,SACLnC,EAAEoC,QAAQC,GAAG,uBAAwBrC,EAAEsC,MAAMtC,EAAEuC,SAASpC,KAAKgC,OAAQ,IAAKhC,QAG9EK,EAAYG,UACRa,cAAe,gBACfC,gBAAiB,MACjBE,WAAW,GAGfnB,EAAYgC,UAAUL,OAAS,WAC3B,IAAIM,EAAiBtC,KAAKW,WAAW4B,QACd1C,EAAE,kBAAmBG,KAAKS,UAAU+B,YAAW,GAOtE,IAAI,IALAC,EAAeH,EADA,GAGfC,EAAQ,EACRG,EAAU,EACVC,EAAc,EACVC,EAAI,EAAGA,EAAE5C,KAAKuB,UAAUsB,OAAO,EAAGD,IAAK,CAC3C,IAAIE,EAAejD,EAAEG,KAAKuB,UAAUqB,IAAIzC,KAAK,cACxC2C,IACDA,EAAejD,EAAEG,KAAKuB,UAAUqB,IAAIJ,YAAW,GAC/C3C,EAAEG,KAAKuB,UAAUqB,IAAIzC,KAAK,aAAc2C,IAE5CP,GAASO,EAELF,GAAK5C,KAAKuB,UAAUsB,OAAO,GAAoB,GAAfF,IAChCF,EAAeH,GAGfC,EAAQE,GACR5C,EAAE,kBAAmBG,KAAKS,UAAUO,YAAY,UAChDnB,EAAEG,KAAKuB,UAAUqB,IAAIzB,SAAS,UAC9BtB,EAAEG,KAAKiB,mBAAmB2B,IAAI5B,YAAY,UAC1C2B,GAAe,IAEf9C,EAAEG,KAAKuB,UAAUqB,IAAI5B,YAAY,UACjCnB,EAAEG,KAAKiB,mBAAmB2B,IAAIzB,SAAS,UACvCuB,GAAW,GAGfA,GAAW1C,KAAKuB,UAAUsB,OAAO,GACjChD,EAAE,kBAAmBG,KAAKS,UAAUU,SAAS,UAEjDnB,KAAKS,SAASsC,IAAI,WAAY,YAclC,IAAIC,EAAMnD,EAAEoD,GAAGC,YAEfrD,EAAEoD,GAAGC,YAA0BpD,EAC/BD,EAAEoD,GAAGC,YAAYC,YAAc9C,EAE/BR,EAAEoD,GAAGC,YAAYE,WAAa,WAE1B,OADAvD,EAAEoD,GAAGC,YAAcF,EACZhD,MAGXH,EAAEoC,QAAQC,GAAG,OAAQ,WACjBrC,EAAE,+BAA+BI,KAAK,WAClCH,EAAOuD,KAAKxD,EAAEG,MAAOH,EAAEG,MAAMG,aAGvCmD","file":"jquery.smt-menu-main.min.js","sourcesContent":["+function ($) {\n    'use strict';\n\n    var SmtMenuMain = function (element, options) {\n        this.options = $.extend({}, SmtMenuMain.DEFAULTS, options);\n        this.$element = $(element);\n\n        if (this.options.container) {\n            this.$container = $(this.options.container);\n        } else if (this.$element.attr('data-container')) {\n            this.$container = $(this.$element.attr('data-container'));\n        } else {\n            this.$container = this.$element.parent();\n        }\n\n        this.$cloneList = $(element).clone().removeClass();\n        this.$cloneListChildren = this.$cloneList.children();\n\n        this.$cloneList.children().addClass('hidden');\n        $(this.$element).append('<li><a href=\"#\" class=\"' + this.options.moreLinkClass + '\">' + this.options.moreLinkContent + '</a>');\n        $('> li:last-child', this.$element).append(this.$cloneList).addClass('hidden');\n\n        this.$children = $(element).children();\n\n        if(this.options.clearHtml) {\n            this.$element.contents().filter(function(index, element) {\n                return element.nodeType == 3 && /\\S/.test(element.nodeValue) === false;\n            }).remove();\n        }\n\n        this.resize();\n        $(window).on('resize.smt-menu-main', $.proxy($.debounce(this.resize, 25), this))\n    };\n\n    SmtMenuMain.DEFAULTS = {\n        moreLinkClass: 'smt-more-link',\n        moreLinkContent: '...',\n        clearHtml: false\n    };\n\n    SmtMenuMain.prototype.resize = function () {\n        var containerWidth = this.$container.width();\n        var widthLastElement = $('> li:last-child', this.$element).outerWidth(true);\n        widthLastElement = 57;\n        var measureWidth = containerWidth - widthLastElement;\n\n        var width = 0;\n        var counter = 0;\n        var countHidden = 0;\n        for(var i = 0; i<this.$children.length-1; i++) {\n            var elementWidth = $(this.$children[i]).data('cacheWidth');\n            if (!elementWidth) {\n                elementWidth = $(this.$children[i]).outerWidth(true);\n                $(this.$children[i]).data('cacheWidth', elementWidth);\n            }\n            width += elementWidth;\n\n            if (i == this.$children.length-2 && countHidden == 0) {\n                measureWidth = containerWidth;\n            }\n\n            if (width > measureWidth) {\n                $('> li:last-child', this.$element).removeClass('hidden');\n                $(this.$children[i]).addClass('hidden');\n                $(this.$cloneListChildren[i]).removeClass('hidden');\n                countHidden += 1;\n            } else {\n                $(this.$children[i]).removeClass('hidden');\n                $(this.$cloneListChildren[i]).addClass('hidden');\n                counter += 1;\n            }\n        }\n        if (counter == this.$children.length-1) {\n            $('> li:last-child', this.$element).addClass('hidden');\n        }\n        this.$element.css('overflow', 'visible');\n    };\n\n    function Plugin(option) {\n        return this.each(function () {\n            var $this   = $(this);\n            var data    = $this.data('bs.smt-menu-main');\n            var options = typeof option == 'object' && option;\n\n            if (!data) $this.data('bs.smt-menu-main', (data = new SmtMenuMain(this, options)));\n            if (typeof option == 'string') data[option]();\n        })\n    }\n\n    var old = $.fn.smtMenuMain;\n\n    $.fn.smtMenuMain             = Plugin;\n    $.fn.smtMenuMain.Constructor = SmtMenuMain;\n\n    $.fn.smtMenuMain.noConflict = function () {\n        $.fn.smtMenuMain = old;\n        return this\n    };\n\n    $(window).on('load', function () {\n        $('[data-smt-menu=\"collapsed\"]').each(function () {\n            Plugin.call($(this), $(this).data())\n        })\n    });\n}(jQuery);"]}